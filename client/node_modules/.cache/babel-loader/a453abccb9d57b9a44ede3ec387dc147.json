{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    table_id: '',\n    name: 'Lorem Ipsum',\n    totalOrder: 0,\n    itemCount: 0,\n    items: {}\n  },\n  reducers: {\n    addItem: (state, action) => {\n      const item = state.items[action.payload._id]; //console.log(\"food id:\", action.payload)\n      //console.log(\"cartSlice \",state.items[action.payload._id]);\n\n      if (item === undefined) {\n        state.items[action.payload._id] = {\n          _id: action.payload._id,\n          qty: 1\n        };\n      } else {\n        item.qty++;\n      }\n\n      state.itemCount++;\n      state.totalOrder = state.totalOrder + action.payload.price;\n    },\n    addTableid: (state, action) => {\n      state.table_id = action.payload.table_id; //console.log(\"ID CART SLICE\",action.payload.table_id);\n    },\n    removeItem: (state, action) => {\n      const item = state.items[action.payload._id];\n      if (item === undefined) return;\n      item.qty === 1 ? delete state.items[action.payload._id] : item.qty--;\n      state.itemCount--;\n      state.totalOrder = state.totalOrder - action.payload.price;\n    }\n  }\n});\nexport const {\n  addItem,\n  removeItem,\n  addTableid\n} = cartSlice.actions;\nexport const selectTableid = state => state.cart.table_id;\nexport const selectCartItem = state => state.cart.items;\nexport const selectCartCount = state => state.cart.itemCount;\nexport const selectTotalOrder = state => state.cart.totalOrder;\nexport default cartSlice.reducer;","map":{"version":3,"sources":["/Users/Geza/Documents/Code/toodz-menu/client/src/redux/cartSlice.js"],"names":["createSlice","cartSlice","name","initialState","table_id","totalOrder","itemCount","items","reducers","addItem","state","action","item","payload","_id","undefined","qty","price","addTableid","removeItem","actions","selectTableid","cart","selectCartItem","selectCartCount","selectTotalOrder","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,OAAO,MAAMC,SAAS,GAAGD,WAAW,CAAC;AACjCE,EAAAA,IAAI,EAAE,MAD2B;AAEjCC,EAAAA,YAAY,EAAC;AACTC,IAAAA,QAAQ,EAAE,EADD;AAETF,IAAAA,IAAI,EAAE,aAFG;AAGTG,IAAAA,UAAU,EAAE,CAHH;AAITC,IAAAA,SAAS,EAAE,CAJF;AAKTC,IAAAA,KAAK,EAAE;AALE,GAFoB;AASjCC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,OAAO,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAkB;AACvB,YAAMC,IAAI,GAAGF,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,GAA3B,CAAb,CADuB,CAEvB;AACA;;AACA,UAAGF,IAAI,KAAKG,SAAZ,EAAsB;AAClBL,QAAAA,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,GAA3B,IAAkC;AAC9BA,UAAAA,GAAG,EAAEH,MAAM,CAACE,OAAP,CAAeC,GADU;AAE9BE,UAAAA,GAAG,EAAE;AAFyB,SAAlC;AAIH,OALD,MAKM;AACFJ,QAAAA,IAAI,CAACI,GAAL;AACH;;AACDN,MAAAA,KAAK,CAACJ,SAAN;AAEAI,MAAAA,KAAK,CAACL,UAAN,GAAmBK,KAAK,CAACL,UAAN,GAAkBM,MAAM,CAACE,OAAP,CAAeI,KAApD;AACH,KAhBK;AAiBNC,IAAAA,UAAU,EAAE,CAACR,KAAD,EAASC,MAAT,KAAoB;AAC5BD,MAAAA,KAAK,CAACN,QAAN,GAAiBO,MAAM,CAACE,OAAP,CAAeT,QAAhC,CAD4B,CAE5B;AACH,KApBK;AAsBNe,IAAAA,UAAU,EAAE,CAACT,KAAD,EAASC,MAAT,KAAoB;AAC5B,YAAMC,IAAI,GAAGF,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,GAA3B,CAAb;AACA,UAAIF,IAAI,KAAKG,SAAb,EAAyB;AACzBH,MAAAA,IAAI,CAACI,GAAL,KAAa,CAAb,GAAiB,OAAON,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,GAA3B,CAAxB,GAA0DF,IAAI,CAACI,GAAL,EAA1D;AACAN,MAAAA,KAAK,CAACJ,SAAN;AACAI,MAAAA,KAAK,CAACL,UAAN,GAAmBK,KAAK,CAACL,UAAN,GAAmBM,MAAM,CAACE,OAAP,CAAeI,KAArD;AACH;AA5BK;AATuB,CAAD,CAA7B;AA2CP,OAAO,MAAM;AAAER,EAAAA,OAAF;AAAWU,EAAAA,UAAX;AAAuBD,EAAAA;AAAvB,IAAqCjB,SAAS,CAACmB,OAArD;AACP,OAAO,MAAMC,aAAa,GAAIX,KAAD,IAAWA,KAAK,CAACY,IAAN,CAAWlB,QAA5C;AACP,OAAO,MAAMmB,cAAc,GAAIb,KAAD,IAAWA,KAAK,CAACY,IAAN,CAAWf,KAA7C;AACP,OAAO,MAAMiB,eAAe,GAAId,KAAD,IAAWA,KAAK,CAACY,IAAN,CAAWhB,SAA9C;AACP,OAAO,MAAMmB,gBAAgB,GAAIf,KAAD,IAAWA,KAAK,CAACY,IAAN,CAAWjB,UAA/C;AACP,eAAeJ,SAAS,CAACyB,OAAzB","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nexport const cartSlice = createSlice({\n    name: \"cart\",\n    initialState:{\n        table_id: '',\n        name: 'Lorem Ipsum',\n        totalOrder: 0,\n        itemCount: 0,\n        items: {},\n    },\n    reducers: {\n        addItem: (state, action) =>{\n            const item = state.items[action.payload._id];\n            //console.log(\"food id:\", action.payload)\n            //console.log(\"cartSlice \",state.items[action.payload._id]);\n            if(item === undefined){\n                state.items[action.payload._id] = {\n                    _id: action.payload._id,\n                    qty: 1,\n                };\n            }else {\n                item.qty++;\n            }\n            state.itemCount++;\n            \n            state.totalOrder = state.totalOrder +action.payload.price; \n        },\n        addTableid: (state , action) => {\n            state.table_id = action.payload.table_id;\n            //console.log(\"ID CART SLICE\",action.payload.table_id);\n        },\n\n        removeItem: (state , action) => {\n            const item = state.items[action.payload._id];\n            if (item === undefined ) return;\n            item.qty === 1 ? delete state.items[action.payload._id] : item.qty--;\n            state.itemCount--;\n            state.totalOrder = state.totalOrder - action.payload.price;\n        },\n\n        \n    }\n});\n\nexport const { addItem, removeItem, addTableid} = cartSlice.actions;\nexport const selectTableid = (state) => state.cart.table_id;\nexport const selectCartItem = (state) => state.cart.items;\nexport const selectCartCount = (state) => state.cart.itemCount;\nexport const selectTotalOrder = (state) => state.cart.totalOrder;\nexport default cartSlice.reducer;"]},"metadata":{},"sourceType":"module"}