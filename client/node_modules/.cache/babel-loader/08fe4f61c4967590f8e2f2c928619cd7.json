{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    totalOrder: 0,\n    itemCount: 0,\n    items: {}\n  },\n  reducers: {\n    addItem: (state, action) => {\n      const item = state.items[action.payload.food_id]; //console.log(\"cartSlice \",state.items[action.payload.food_id]);\n\n      if (item === undefined) {\n        state.items[action.payload.food_id] = {\n          food_id: action.payload.food_id,\n          qty: 1\n        };\n      } else {\n        item.qty++;\n      }\n\n      state.itemCount++;\n      state.totalOrder = state.totalOrder + action.payload.price;\n    },\n    removeItem: (state, action) => {\n      const item = state.items[action.payload.food_id];\n      if (item === undefined) return;\n      item.qty === 1 ? delete state.items[action.payload.food_id] : item.qty--;\n      state.itemCount--;\n      state.totalOrder = state.totalOrder - action.payload.price;\n    }\n  }\n});\nexport const {\n  addItem,\n  removeItem\n} = cartSlice.actions;\nexport const selectCartItem = state => state.cart.items;\nexport const selectCartCount = state => state.cart.itemCount;\nexport const selectTotalOrder = state => state.cart.totalOrder;\nexport default cartSlice.reducer;","map":{"version":3,"sources":["/Users/Geza/Documents/Code/toodz-menu/client/src/redux/cartSlice.js"],"names":["createSlice","cartSlice","name","initialState","totalOrder","itemCount","items","reducers","addItem","state","action","item","payload","food_id","undefined","qty","price","removeItem","actions","selectCartItem","cart","selectCartCount","selectTotalOrder","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,OAAO,MAAMC,SAAS,GAAGD,WAAW,CAAC;AACjCE,EAAAA,IAAI,EAAE,MAD2B;AAEjCC,EAAAA,YAAY,EAAC;AACTC,IAAAA,UAAU,EAAE,CADH;AAETC,IAAAA,SAAS,EAAE,CAFF;AAGTC,IAAAA,KAAK,EAAE;AAHE,GAFoB;AAOjCC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,OAAO,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAkB;AACvB,YAAMC,IAAI,GAAGF,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,OAA3B,CAAb,CADuB,CAEvB;;AACA,UAAGF,IAAI,KAAKG,SAAZ,EAAsB;AAClBL,QAAAA,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,OAA3B,IAAsC;AAClCA,UAAAA,OAAO,EAAEH,MAAM,CAACE,OAAP,CAAeC,OADU;AAElCE,UAAAA,GAAG,EAAE;AAF6B,SAAtC;AAIH,OALD,MAKM;AACFJ,QAAAA,IAAI,CAACI,GAAL;AACH;;AACDN,MAAAA,KAAK,CAACJ,SAAN;AAEAI,MAAAA,KAAK,CAACL,UAAN,GAAmBK,KAAK,CAACL,UAAN,GAAkBM,MAAM,CAACE,OAAP,CAAeI,KAApD;AACH,KAfK;AAiBNC,IAAAA,UAAU,EAAE,CAACR,KAAD,EAASC,MAAT,KAAoB;AAC5B,YAAMC,IAAI,GAAGF,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,OAA3B,CAAb;AACA,UAAIF,IAAI,KAAKG,SAAb,EAAyB;AACzBH,MAAAA,IAAI,CAACI,GAAL,KAAa,CAAb,GAAiB,OAAON,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,OAA3B,CAAxB,GAA8DF,IAAI,CAACI,GAAL,EAA9D;AACAN,MAAAA,KAAK,CAACJ,SAAN;AACAI,MAAAA,KAAK,CAACL,UAAN,GAAmBK,KAAK,CAACL,UAAN,GAAmBM,MAAM,CAACE,OAAP,CAAeI,KAArD;AACH;AAvBK;AAPuB,CAAD,CAA7B;AAkCP,OAAO,MAAM;AAAER,EAAAA,OAAF;AAAWS,EAAAA;AAAX,IAAyBhB,SAAS,CAACiB,OAAzC;AACP,OAAO,MAAMC,cAAc,GAAIV,KAAD,IAAWA,KAAK,CAACW,IAAN,CAAWd,KAA7C;AACP,OAAO,MAAMe,eAAe,GAAIZ,KAAD,IAAWA,KAAK,CAACW,IAAN,CAAWf,SAA9C;AACP,OAAO,MAAMiB,gBAAgB,GAAIb,KAAD,IAAWA,KAAK,CAACW,IAAN,CAAWhB,UAA/C;AACP,eAAeH,SAAS,CAACsB,OAAzB","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nexport const cartSlice = createSlice({\n    name: \"cart\",\n    initialState:{\n        totalOrder: 0,\n        itemCount: 0,\n        items: {},\n    },\n    reducers: {\n        addItem: (state, action) =>{\n            const item = state.items[action.payload.food_id];\n            //console.log(\"cartSlice \",state.items[action.payload.food_id]);\n            if(item === undefined){\n                state.items[action.payload.food_id] = {\n                    food_id: action.payload.food_id,\n                    qty: 1,\n                };\n            }else {\n                item.qty++;\n            }\n            state.itemCount++;\n            \n            state.totalOrder = state.totalOrder +action.payload.price; \n        },\n\n        removeItem: (state , action) => {\n            const item = state.items[action.payload.food_id];\n            if (item === undefined ) return;\n            item.qty === 1 ? delete state.items[action.payload.food_id] : item.qty--;\n            state.itemCount--;\n            state.totalOrder = state.totalOrder - action.payload.price;\n        },\n    }\n});\n\nexport const { addItem, removeItem} = cartSlice.actions;\nexport const selectCartItem = (state) => state.cart.items;\nexport const selectCartCount = (state) => state.cart.itemCount;\nexport const selectTotalOrder = (state) => state.cart.totalOrder;\nexport default cartSlice.reducer;"]},"metadata":{},"sourceType":"module"}