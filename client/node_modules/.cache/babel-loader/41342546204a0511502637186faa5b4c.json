{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    itemCount: 0,\n    items: {}\n  },\n  reducers: {\n    addItem: (state, action) => {\n      const item = state.items[action.payload.food_id];\n      console.log(\"cartSlice \", state.items[action.payload.food_id]);\n\n      if (item === undefined) {\n        state.items = {\n          food_id: action.payload.food_id,\n          qty: 1\n        };\n      } else {\n        item.qty++;\n      }\n\n      state.itemCount++;\n    },\n    removeItem: (state, action) => {\n      const item = state.items[action.payload.food_id];\n      if (item === undefined) return;\n      item.qty === 1 ? delete state.items[action.payload.food_id] : item.qty--;\n      state.itemCount--;\n    }\n  }\n});\nexport const {\n  addItem,\n  removeItem\n} = cartSlice.actions;\nexport const selectCartItem = state => state.cart.items;\nexport const selectCartCount = state => state.cart.itemCount;\nexport default cartSlice.reducer;","map":{"version":3,"sources":["/Users/Geza/Documents/Code/toodz-menu/client/src/redux/cartSlice.js"],"names":["createSlice","cartSlice","name","initialState","itemCount","items","reducers","addItem","state","action","item","payload","food_id","console","log","undefined","qty","removeItem","actions","selectCartItem","cart","selectCartCount","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,OAAO,MAAMC,SAAS,GAAGD,WAAW,CAAC;AACjCE,EAAAA,IAAI,EAAE,MAD2B;AAEjCC,EAAAA,YAAY,EAAC;AACTC,IAAAA,SAAS,EAAE,CADF;AAETC,IAAAA,KAAK,EAAE;AAFE,GAFoB;AAMjCC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,OAAO,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAkB;AACvB,YAAMC,IAAI,GAAGF,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,OAA3B,CAAb;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBN,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,OAA3B,CAAzB;;AACA,UAAGF,IAAI,KAAKK,SAAZ,EAAsB;AAClBP,QAAAA,KAAK,CAACH,KAAN,GAAc;AACVO,UAAAA,OAAO,EAAEH,MAAM,CAACE,OAAP,CAAeC,OADd;AAEVI,UAAAA,GAAG,EAAE;AAFK,SAAd;AAIH,OALD,MAKM;AACFN,QAAAA,IAAI,CAACM,GAAL;AACH;;AACDR,MAAAA,KAAK,CAACJ,SAAN;AACH,KAbK;AAeNa,IAAAA,UAAU,EAAE,CAACT,KAAD,EAASC,MAAT,KAAoB;AAC5B,YAAMC,IAAI,GAAGF,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,OAA3B,CAAb;AACA,UAAIF,IAAI,KAAKK,SAAb,EAAyB;AACzBL,MAAAA,IAAI,CAACM,GAAL,KAAa,CAAb,GAAiB,OAAOR,KAAK,CAACH,KAAN,CAAYI,MAAM,CAACE,OAAP,CAAeC,OAA3B,CAAxB,GAA8DF,IAAI,CAACM,GAAL,EAA9D;AACAR,MAAAA,KAAK,CAACJ,SAAN;AACH;AApBK;AANuB,CAAD,CAA7B;AA8BP,OAAO,MAAM;AAAEG,EAAAA,OAAF;AAAWU,EAAAA;AAAX,IAAyBhB,SAAS,CAACiB,OAAzC;AACP,OAAO,MAAMC,cAAc,GAAIX,KAAD,IAAWA,KAAK,CAACY,IAAN,CAAWf,KAA7C;AACP,OAAO,MAAMgB,eAAe,GAAIb,KAAD,IAAWA,KAAK,CAACY,IAAN,CAAWhB,SAA9C;AACP,eAAeH,SAAS,CAACqB,OAAzB","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nexport const cartSlice = createSlice({\n    name: \"cart\",\n    initialState:{\n        itemCount: 0,\n        items: {},\n    },\n    reducers: {\n        addItem: (state, action) =>{\n            const item = state.items[action.payload.food_id];\n            console.log(\"cartSlice \",state.items[action.payload.food_id]);\n            if(item === undefined){\n                state.items = {\n                    food_id: action.payload.food_id,\n                    qty: 1,\n                };\n            }else {\n                item.qty++;\n            }\n            state.itemCount++;\n        },\n\n        removeItem: (state , action) => {\n            const item = state.items[action.payload.food_id];\n            if (item === undefined ) return;\n            item.qty === 1 ? delete state.items[action.payload.food_id] : item.qty--;\n            state.itemCount--;\n        },\n    }\n});\n\nexport const { addItem, removeItem} = cartSlice.actions;\nexport const selectCartItem = (state) => state.cart.items;\nexport const selectCartCount = (state) => state.cart.itemCount;\nexport default cartSlice.reducer;"]},"metadata":{},"sourceType":"module"}